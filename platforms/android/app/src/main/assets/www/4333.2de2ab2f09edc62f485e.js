(self.webpackChunkerpp_movil=self.webpackChunkerpp_movil||[]).push([[4333],{84333:(o,t,i)=>{"use strict";i.r(t),i.d(t,{SyncFotosServiciosPageModule:()=>d});var n=i(61116),e=i(11462),s=i(54812),r=i(9069),l=i(64762),c=i(39300),a=i(87368),g=i(75919),u=i(9935),m=i(90074);function Z(o,t){if(1&o){const o=a.EpF();a.TgZ(0,"ion-item-sliding",0),a.TgZ(1,"ion-item",0),a.TgZ(2,"ion-thumbnail",17),a.TgZ(3,"img",18),a.NdJ("click",function(){const t=a.CHM(o).$implicit;return a.oxw().openPreview(t.imagenLocal)}),a.qZA(),a.qZA(),a.TgZ(4,"ion-label"),a.TgZ(5,"p"),a._uU(6),a.qZA(),a.TgZ(7,"p",19),a.TgZ(8,"strong"),a._uU(9,"Fecha: "),a.qZA(),a._uU(10),a.qZA(),a.TgZ(11,"p",19),a.TgZ(12,"strong"),a._uU(13,"Tipo: "),a.qZA(),a._uU(14),a.qZA(),a.TgZ(15,"p",19),a.TgZ(16,"strong"),a._uU(17,"Plaza: "),a.qZA(),a._uU(18),a.ALo(19,"titlecase"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"ion-item-options",20),a.TgZ(21,"ion-item-option",21),a.NdJ("click",function(){const t=a.CHM(o).$implicit;return a.oxw().deletePhoto(t.id,t.rutaBase64)}),a._UZ(22,"ion-icon",22),a.qZA(),a.qZA(),a.TgZ(23,"ion-item-options",23),a.TgZ(24,"ion-item-option",24),a.NdJ("click",function(){const t=a.CHM(o).$implicit;return a.oxw().uploadPhoto(t.id)}),a._UZ(25,"ion-icon",25),a.qZA(),a.qZA(),a.qZA()}if(2&o){const o=t.$implicit,i=t.index;a.xp6(3),a.s9C("src",o.imagenLocal,a.LSH),a.xp6(3),a.Oqu(i+1),a.xp6(4),a.Oqu(o.fecha),a.xp6(4),a.Oqu(o.tipo),a.xp6(4),a.Oqu(a.lcZ(19,5,o.nombre_plaza))}}const h=[{path:"",component:(()=>{class o{constructor(o,t,i,n,e,s){this.rest=o,this.loadingCtrl=t,this.mensaje=i,this.modalCtrl=n,this.router=e,this.callNumber=s,this.contadorFotos=0,this.totalFotos=0,this.isHide=!1}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){yield this.getTotalFotos(),yield this.getInfo(),console.log(this.infoImages)})}getInfo(){return(0,l.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({message:"Cargando las fotos..."}),this.loading.present(),this.infoImages=yield this.rest.getImagesLocalServicios(),0==this.infoImages.length&&(this.mensaje.showAlert("No tienes fotos a sincronizar"),this.router.navigateByUrl("sincronizar-fotos")),this.loading.dismiss()})}getTotalFotos(){return(0,l.mG)(this,void 0,void 0,function*(){this.totalFotos=yield this.rest.getTotalFotosServicios(),console.log("Total fotos servicios"+this.totalFotos)})}syncFotos(){this.rest.uploadPhotosServicios().then(()=>{console.log("Se mandaron las fotos"),this.router.navigateByUrl("/sincronizar-fotos")})}uploadPhoto(o){}deletePhoto(o,t){}navegar(o){1==o?this.router.navigateByUrl("home/tab1"):2==o?this.router.navigateByUrl("home/tab2"):3==o?this.router.navigateByUrl("home/tab3"):4==o?this.router.navigateByUrl("home/tab4"):5==o&&this.callNumber.callNumber("911",!0).then(o=>console.log("Launched dialer!",o)).catch(o=>console.log("Error launching dialer",o))}openPreview(o){this.modalCtrl.create({component:c.s,componentProps:{imagen:o}}).then(o=>{o.present()})}}return o.\u0275fac=function(t){return new(t||o)(a.Y36(g.v),a.Y36(s.HT),a.Y36(u.K),a.Y36(s.IN),a.Y36(r.F0),a.Y36(m.X))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-sync-fotos-servicios"]],decls:43,vars:2,consts:[["color","medium"],["color","medium",2,"text-align","center"],[3,"click"],[2,"color","white"],["color","success","slot","end","name","cloud-upload"],[2,"text-align","center"],["mode","ios","color","secondary"],[3,"items"],["color","medium",4,"virtualItem"],["scrollable",""],["color","light","name","home"],["color","light",2,"font-size","2px"],["color","light","name","layers"],["color","light","name","map"],["color","light","name","warning"],["src","../../../assets/img/sos.png","alt","",2,"width","30px","height","30px","margin-bottom","-15px"],["color","light",2,"font-size","3px","margin-bottom","-1px"],["slot","start"],["tappable","",3,"src","click"],[2,"font-size","12px"],["side","start"],["color","danger",3,"click"],["slot","icon-only","name","trash",1,"trash"],["side","end"],["color","primary",3,"click"],["slot","icon-only","name","cloud-upload",1,"upload"]],template:function(o,t){1&o&&(a._UZ(0,"hr"),a._UZ(1,"hr"),a._UZ(2,"hr"),a._UZ(3,"hr"),a.TgZ(4,"ion-content",0),a.TgZ(5,"ion-card",0),a.TgZ(6,"ion-card-header",1),a.TgZ(7,"ion-button",2),a.NdJ("click",function(){return t.syncFotos()}),a.TgZ(8,"p",3),a._uU(9,"Enviar fotos servicios"),a.qZA(),a._UZ(10,"ion-icon",4),a.qZA(),a.qZA(),a.qZA(),a._UZ(11,"hr"),a.TgZ(12,"div",5),a.TgZ(13,"ion-chip",6),a._uU(14),a.qZA(),a.qZA(),a.TgZ(15,"ion-virtual-scroll",7),a.YNc(16,Z,26,7,"ion-item-sliding",8),a.qZA(),a.qZA(),a.TgZ(17,"ion-segment",9),a.TgZ(18,"ion-segment-button",2),a.NdJ("click",function(){return t.navegar(1)}),a._UZ(19,"ion-icon",10),a.TgZ(20,"ion-label",11),a.TgZ(21,"small"),a._uU(22,"Inicio"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"ion-segment-button",2),a.NdJ("click",function(){return t.navegar(2)}),a._UZ(24,"ion-icon",12),a.TgZ(25,"ion-label",11),a.TgZ(26,"small"),a._uU(27,"Cuentas"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"ion-segment-button",2),a.NdJ("click",function(){return t.navegar(3)}),a._UZ(29,"ion-icon",13),a.TgZ(30,"ion-label",11),a.TgZ(31,"small"),a._uU(32,"Mapa"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"ion-segment-button",2),a.NdJ("click",function(){return t.navegar(4)}),a._UZ(34,"ion-icon",14),a.TgZ(35,"ion-label",11),a.TgZ(36,"small"),a._uU(37,"S.P\xfablicos"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(38,"ion-segment-button",2),a.NdJ("click",function(){return t.navegar(5)}),a._UZ(39,"img",15),a.TgZ(40,"ion-label",16),a.TgZ(41,"small"),a._uU(42,"S.O.S."),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&o&&(a.xp6(14),a.hij(" Total fotos: ",t.totalFotos," "),a.xp6(1),a.Q6J("items",t.infoImages))},directives:[s.W2,s.PM,s.Zi,s.YG,s.gu,s.hM,s.aJ,s.Rw,s.cJ,s.QI,s.GO,s.Q$,s.td,s.Ie,s.Bs,s.IK,s.u8],pipes:[n.rS],styles:["p[_ngcontent-%COMP%]{color:#fff!important}.trash[_ngcontent-%COMP%]{color:red!important}.upload[_ngcontent-%COMP%]{color:#00c800}ion-segment[_ngcontent-%COMP%]{--background:#254061;border-top:1px solid #0000001a;height:60px;margin-bottom:-5px}ion-segment-button[_ngcontent-%COMP%]{--indicator-color:#0000!important}"]}),o})()}];let p=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[[r.Bz.forChild(h)],r.Bz]}),o})(),d=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[[n.ez,e.u5,s.Pc,p]]}),o})()}}]);