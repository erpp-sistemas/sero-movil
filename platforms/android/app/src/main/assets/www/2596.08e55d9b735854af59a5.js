(self.webpackChunkerpp_movil=self.webpackChunkerpp_movil||[]).push([[2596],{1295:(e,i,t)=>{"use strict";t.d(i,{K:()=>d});var o=t(64762),n=t(87368),a=t(54812),s=t(75919),r=t(9935),c=t(61116),l=t(11462);function g(e,i){if(1&e){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"ion-item",0),n.TgZ(2,"ion-label"),n.TgZ(3,"p"),n._uU(4,"Cual: "),n.qZA(),n.qZA(),n.TgZ(5,"ion-input",22),n.NdJ("ngModelChange",function(i){return n.CHM(e),n.oxw().cualPromesa=i}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(5),n.Q6J("ngModel",e.cualPromesa)}}let d=(()=>{class e{constructor(e,i,t,o){this.modalCtrl=e,this.rest=i,this.message=t,this.loadingCtrl=o,this.conocePresidente=0,this.promesaCamp=0,this.cualPromesa="",this.gestionPresidente=0,this.idServicioImpuesto=0,this.fechaCaptura="",this.activaPromesa=!1,this.realizado=!1}ngOnInit(){}resultConocePresidente(e){this.conocePresidente="conoceSi"==e.detail.value?1:0}resultPromesa(e){"promesaSi"==e.detail.value?(this.promesaCamp=1,this.activaPromesa=!0):(this.promesaCamp=0,this.activaPromesa=!1)}resultGestion(e){this.gestionPresidente="conformeGestionSi"==e.detail.value?1:0}verify(){return(0,o.mG)(this,void 0,void 0,function*(){var e=(new Date).toISOString();let i=new Date(e),t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()));this.fechaCaptura=t.toISOString();let o={idPlaza:this.idPlaza,account:this.account,conocePresidente:this.conocePresidente,promesaCamp:this.promesaCamp,cualPromesa:this.cualPromesa,gestionPresidente:this.gestionPresidente,idServicioImpuesto:this.idServicioImpuesto,idServicioPlaza:this.idServicioPlaza,fechaCaptura:this.fechaCaptura};yield this.gestionEncuesta(o)})}gestionEncuesta(e){return(0,o.mG)(this,void 0,void 0,function*(){yield this.rest.gestionEncuesta(e),this.modalCtrl.dismiss({estatus:"Realizado"})})}}return e.\u0275fac=function(i){return new(i||e)(n.Y36(a.IN),n.Y36(s.v),n.Y36(r.K),n.Y36(a.HT))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-encuesta"]],inputs:{idPlaza:"idPlaza",account:"account",idServicioPlaza:"idServicioPlaza"},decls:56,vars:2,consts:[["color","medium"],["color","medium",2,"text-align","center"],["mode","ios","color","danger","value","conoceNo",3,"ionChange"],["value","conoceSi",1,"segment-si"],[1,"marca-si"],["value","conoceNo",1,"segment-no"],[1,"marca-no"],["mode","ios","color","danger","value","promesaNo",3,"ionChange"],["value","promesaSi",1,"segment-si"],["value","promesaNo",1,"segment-no"],[4,"ngIf"],["mode","ios","color","danger","value","conformeGestionNo",3,"ionChange"],["value","conformeGestionSi",1,"segment-si"],["value","conformeGestionNo",1,"segment-no"],["interface","action-sheet","placeholder","Selecciona uno",1,"myCustomSelect",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["size","12",1,"ion-text-center"],["shape","round","color","success","expand","block",3,"click"],["interface","popover",1,"myCustomSelect",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-content",0),n.TgZ(1,"ion-item",1),n.TgZ(2,"p"),n._uU(3," Conoce usted a su presidente municipal. "),n.qZA(),n.qZA(),n.TgZ(4,"ion-item",0),n.TgZ(5,"ion-segment",2),n.NdJ("ionChange",function(e){return i.resultConocePresidente(e)}),n.TgZ(6,"ion-segment-button",3),n.TgZ(7,"ion-label",4),n._uU(8,"Si"),n.qZA(),n.qZA(),n.TgZ(9,"ion-segment-button",5),n.TgZ(10,"ion-label",6),n._uU(11,"No"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"ion-item",1),n.TgZ(13,"p"),n._uU(14," Recuerda alguna de las promesas de campa\xf1\xe1 del presidente municipal. "),n.qZA(),n.qZA(),n.TgZ(15,"ion-item",0),n.TgZ(16,"ion-segment",7),n.NdJ("ionChange",function(e){return i.resultPromesa(e)}),n.TgZ(17,"ion-segment-button",8),n.TgZ(18,"ion-label",4),n._uU(19,"Si"),n.qZA(),n.qZA(),n.TgZ(20,"ion-segment-button",9),n.TgZ(21,"ion-label",6),n._uU(22,"No"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(23,g,6,1,"div",10),n.TgZ(24,"ion-item",1),n.TgZ(25,"p"),n._uU(26," Esta usted conforme con la gesti\xf3n del presidente municipal. "),n.qZA(),n.qZA(),n.TgZ(27,"ion-item",0),n.TgZ(28,"ion-segment",11),n.NdJ("ionChange",function(e){return i.resultGestion(e)}),n.TgZ(29,"ion-segment-button",12),n.TgZ(30,"ion-label",4),n._uU(31,"Si"),n.qZA(),n.qZA(),n.TgZ(32,"ion-segment-button",13),n.TgZ(33,"ion-label",6),n._uU(34,"No"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"ion-item",0),n.TgZ(36,"ion-label"),n.TgZ(37,"p"),n._uU(38," En que servicios p\xfablicos le gustaria que fueran aplicados sus impuestos "),n.qZA(),n.TgZ(39,"p"),n.TgZ(40,"ion-select",14),n.NdJ("ngModelChange",function(e){return i.idServicioImpuesto=e}),n.TgZ(41,"ion-select-option",15),n._uU(42,"Seguridad"),n.qZA(),n.TgZ(43,"ion-select-option",16),n._uU(44,"Alambrado p\xfablico"),n.qZA(),n.TgZ(45,"ion-select-option",17),n._uU(46,"Bacheo o pavimentaci\xf3n"),n.qZA(),n.TgZ(47,"ion-select-option",18),n._uU(48,"Recolecci\xf3n de basura"),n.qZA(),n.TgZ(49,"ion-select-option",19),n._uU(50,"Reparaci\xf3n de fugas de agua y desazolve de drenaje"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(51,"ion-grid"),n.TgZ(52,"ion-row"),n.TgZ(53,"ion-col",20),n.TgZ(54,"ion-button",21),n.NdJ("click",function(){return i.verify()}),n._uU(55,"Terminar"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(23),n.Q6J("ngIf",i.activaPromesa),n.xp6(17),n.Q6J("ngModel",i.idServicioImpuesto))},directives:[a.W2,a.Ie,a.cJ,a.QI,a.GO,a.Q$,c.O5,a.t9,l.JJ,l.On,a.n0,a.jY,a.Nd,a.wI,a.YG,a.pK,a.j9],styles:["p[_ngcontent-%COMP%]{font-weight:300;font-size:11px;color:#fff!important}.myCustomSelect[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{max-width:100%!important}ion-input[_ngcontent-%COMP%]{color:#fff!important}ion-segment[_ngcontent-%COMP%]{--background:#254061;border-top:1px solid #0000001a}ion-segment-button[_ngcontent-%COMP%]{--indicator-color:#0000!important}.segment-no[_ngcontent-%COMP%], .segment-si[_ngcontent-%COMP%]{padding:0;border-radius:10px!important;height:10px!important}.segment-no[_ngcontent-%COMP%]{margin-left:10px}.marca-si[_ngcontent-%COMP%]{color:#9acd32}.icon-trash[_ngcontent-%COMP%], .marca-no[_ngcontent-%COMP%]{color:red}"]}),e})()},32596:(e,i,t)=>{"use strict";t.d(i,{z:()=>y});var o=t(64762),n=t(38643),a=t(1295),s=t(87368),r=t(18372),c=t(9935),l=t(2977),g=t(54812),d=t(75919),u=t(11585),Z=t(3759),h=t(9069),m=t(90074),p=t(11462),T=t(61116);function A(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"ion-item",4),s.TgZ(2,"ion-label"),s.TgZ(3,"p"),s._uU(4,"Giro: "),s.qZA(),s.qZA(),s.TgZ(5,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw(2).giro=i}),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(5),s.Q6J("ngModel",e.giro)}}function q(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"ion-item",50),s.TgZ(2,"p"),s._uU(3," Lunes: "),s.qZA(),s.qZA(),s.TgZ(4,"ion-item",4),s.TgZ(5,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultLunes(i)}),s.TgZ(6,"ion-segment-button",52),s.TgZ(7,"ion-label",53),s._uU(8,"Si"),s.qZA(),s.qZA(),s.TgZ(9,"ion-segment-button",54),s.TgZ(10,"ion-label",55),s._uU(11,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"ion-item",50),s.TgZ(13,"p"),s._uU(14," Martes: "),s.qZA(),s.qZA(),s.TgZ(15,"ion-item",4),s.TgZ(16,"ion-segment",56),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultMartes(i)}),s.TgZ(17,"ion-segment-button",57),s.TgZ(18,"ion-label",53),s._uU(19,"Si"),s.qZA(),s.qZA(),s.TgZ(20,"ion-segment-button",58),s.TgZ(21,"ion-label",55),s._uU(22,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"ion-item",50),s.TgZ(24,"p"),s._uU(25," Mi\xe9rcoles "),s.qZA(),s.qZA(),s.TgZ(26,"ion-item",4),s.TgZ(27,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultMiercoles(i)}),s.TgZ(28,"ion-segment-button",59),s.TgZ(29,"ion-label",53),s._uU(30,"Si"),s.qZA(),s.qZA(),s.TgZ(31,"ion-segment-button",60),s.TgZ(32,"ion-label",55),s._uU(33,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"ion-item",50),s.TgZ(35,"p"),s._uU(36," Jueves: "),s.qZA(),s.qZA(),s.TgZ(37,"ion-item",4),s.TgZ(38,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultJueves(i)}),s.TgZ(39,"ion-segment-button",61),s.TgZ(40,"ion-label",53),s._uU(41,"Si"),s.qZA(),s.qZA(),s.TgZ(42,"ion-segment-button",62),s.TgZ(43,"ion-label",55),s._uU(44,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(45,"ion-item",50),s.TgZ(46,"p"),s._uU(47," Viernes: "),s.qZA(),s.qZA(),s.TgZ(48,"ion-item",4),s.TgZ(49,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultViernes(i)}),s.TgZ(50,"ion-segment-button",63),s.TgZ(51,"ion-label",53),s._uU(52,"Si"),s.qZA(),s.qZA(),s.TgZ(53,"ion-segment-button",64),s.TgZ(54,"ion-label",55),s._uU(55,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"ion-item",50),s.TgZ(57,"p"),s._uU(58," S\xe1bado: "),s.qZA(),s.qZA(),s.TgZ(59,"ion-item",4),s.TgZ(60,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultSabado(i)}),s.TgZ(61,"ion-segment-button",65),s.TgZ(62,"ion-label",53),s._uU(63,"Si"),s.qZA(),s.qZA(),s.TgZ(64,"ion-segment-button",66),s.TgZ(65,"ion-label",55),s._uU(66,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(67,"ion-item",50),s.TgZ(68,"p"),s._uU(69," Domingo: "),s.qZA(),s.qZA(),s.TgZ(70,"ion-item",4),s.TgZ(71,"ion-segment",51),s.NdJ("ionChange",function(i){return s.CHM(e),s.oxw(3).resultDomingo(i)}),s.TgZ(72,"ion-segment-button",67),s.TgZ(73,"ion-label",53),s._uU(74,"Si"),s.qZA(),s.qZA(),s.TgZ(75,"ion-segment-button",68),s.TgZ(76,"ion-label",55),s._uU(77,"No"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function f(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"ion-item",4),s.TgZ(2,"ion-label"),s.TgZ(3,"p"),s._uU(4,"Lectura medidor: "),s.qZA(),s.qZA(),s.TgZ(5,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw(2).lectura_medidor=i}),s.qZA(),s.qZA(),s.TgZ(6,"ion-item",4),s.TgZ(7,"ion-label"),s.TgZ(8,"p"),s._uU(9," Cada cuando hay suministro de agua: "),s.qZA(),s.TgZ(10,"p"),s.TgZ(11,"ion-select",10),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw(2).idTiempoSuministroAgua=i})("ionChange",function(i){return s.CHM(e),s.oxw(2).resultTiempoSuministroAgua(i)}),s.TgZ(12,"ion-select-option",11),s._uU(13,"Diario"),s.qZA(),s.TgZ(14,"ion-select-option",12),s._uU(15,"Cada tercer dia"),s.qZA(),s.TgZ(16,"ion-select-option",13),s._uU(17,"Cada semana"),s.qZA(),s.TgZ(18,"ion-select-option",14),s._uU(19,"Otro"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(20,q,78,0,"div",15),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(5),s.Q6J("ngModel",e.lectura_medidor),s.xp6(6),s.Q6J("ngModel",e.idTiempoSuministroAgua),s.xp6(9),s.Q6J("ngIf",e.activaOtroSuministroAgua)}}function v(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",41),s.TgZ(2,"ion-chip",6),s._uU(3,"Informaci\xf3n contribuyente"),s.qZA(),s.qZA(),s.TgZ(4,"ion-card",4),s.TgZ(5,"ion-card-content",4),s.TgZ(6,"ion-item",4),s.TgZ(7,"ion-label"),s.TgZ(8,"p"),s._uU(9,"Persona que atiende: "),s.qZA(),s.qZA(),s.TgZ(10,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().personaAtiende=i}),s.qZA(),s.qZA(),s.TgZ(11,"ion-item",4),s.TgZ(12,"ion-label"),s.TgZ(13,"p"),s._uU(14,"Tipo de servicio actual"),s.qZA(),s.TgZ(15,"ion-text",43),s._uU(16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"ion-item",4),s.TgZ(18,"ion-label"),s.TgZ(19,"p"),s._uU(20," Cambiar el tipo de servicio "),s.qZA(),s.TgZ(21,"p"),s.TgZ(22,"ion-select",10),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().idTipoServicio=i})("ionChange",function(i){return s.CHM(e),s.oxw().resultTipoServicio(i)}),s.TgZ(23,"ion-select-option",11),s._uU(24,"Dom\xe9stico"),s.qZA(),s.TgZ(25,"ion-select-option",12),s._uU(26,"Comercial"),s.qZA(),s.TgZ(27,"ion-select-option",13),s._uU(28,"Industrial"),s.qZA(),s.TgZ(29,"ion-select-option",14),s._uU(30,"Gobierno"),s.qZA(),s.TgZ(31,"ion-select-option",44),s._uU(32,"Dom\xe9stico / Comercial"),s.qZA(),s.TgZ(33,"ion-select-option",45),s._uU(34,"Residencial"),s.qZA(),s.TgZ(35,"ion-select-option",46),s._uU(36,"Departamental"),s.qZA(),s.TgZ(37,"ion-select-option",47),s._uU(38,"No aplica"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(39,A,6,1,"div",15),s.YNc(40,f,21,3,"div",15),s._UZ(41,"hr"),s.TgZ(42,"div",5),s.TgZ(43,"ion-chip",6),s._uU(44,"Caracter\xedsticas del inmueble"),s.qZA(),s.qZA(),s._UZ(45,"hr"),s.TgZ(46,"ion-item",4),s.TgZ(47,"ion-label"),s.TgZ(48,"p"),s._uU(49,"N\xfamero de niveles: "),s.qZA(),s.qZA(),s.TgZ(50,"ion-input",48),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().numeroNiveles=i}),s.qZA(),s.qZA(),s.TgZ(51,"ion-item",4),s.TgZ(52,"ion-label"),s.TgZ(53,"p"),s._uU(54,"Color fachada: "),s.qZA(),s.qZA(),s.TgZ(55,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().colorFachada=i}),s.qZA(),s.qZA(),s.TgZ(56,"ion-item",4),s.TgZ(57,"ion-label"),s.TgZ(58,"p"),s._uU(59,"Color puerta: "),s.qZA(),s.qZA(),s.TgZ(60,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().colorPuerta=i}),s.qZA(),s.qZA(),s.TgZ(61,"ion-item",4),s.TgZ(62,"ion-label"),s.TgZ(63,"p"),s._uU(64,"Referencia: "),s.qZA(),s.qZA(),s.TgZ(65,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().referencia=i}),s.qZA(),s.qZA(),s.TgZ(66,"ion-item",4),s.TgZ(67,"ion-label"),s.TgZ(68,"p"),s._uU(69," Tipo de predio "),s.qZA(),s.TgZ(70,"p"),s.TgZ(71,"ion-select",49),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().idTipoPredio=i}),s.TgZ(72,"ion-select-option",11),s._uU(73,"Esquinero"),s.qZA(),s.TgZ(74,"ion-select-option",12),s._uU(75,"Intermedio"),s.qZA(),s.TgZ(76,"ion-select-option",13),s._uU(77,"Manzanero"),s.qZA(),s.TgZ(78,"ion-select-option",14),s._uU(79,"Ahogado"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(80,"ion-item",4),s.TgZ(81,"ion-label"),s.TgZ(82,"p"),s._uU(83,"Entre calle 1: "),s.qZA(),s.qZA(),s.TgZ(84,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().entreCalle1=i}),s.qZA(),s.qZA(),s.TgZ(85,"ion-item",4),s.TgZ(86,"ion-label"),s.TgZ(87,"p"),s._uU(88,"Entre calle 2: "),s.qZA(),s.qZA(),s.TgZ(89,"ion-input",42),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().entreCalle2=i}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(10),s.Q6J("ngModel",e.personaAtiende),s.xp6(6),s.hij(" ",e.tipoServicioPadron," "),s.xp6(6),s.Q6J("ngModel",e.idTipoServicio),s.xp6(17),s.Q6J("ngIf",e.mostrarGiro),s.xp6(1),s.Q6J("ngIf",e.plazaAgua),s.xp6(10),s.Q6J("ngModel",e.numeroNiveles),s.xp6(5),s.Q6J("ngModel",e.colorFachada),s.xp6(5),s.Q6J("ngModel",e.colorPuerta),s.xp6(5),s.Q6J("ngModel",e.referencia),s.xp6(6),s.Q6J("ngModel",e.idTipoPredio),s.xp6(13),s.Q6J("ngModel",e.entreCalle1),s.xp6(5),s.Q6J("ngModel",e.entreCalle2)}}function C(e,i){1&e&&s._UZ(0,"ion-icon",69)}function _(e,i){if(1&e&&(s.TgZ(0,"ion-item",4),s.TgZ(1,"ion-label"),s.TgZ(2,"p"),s._uU(3," Total: $ "),s.TgZ(4,"span",7),s._uU(5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-label"),s.TgZ(7,"p"),s._uU(8," Fecha: "),s.TgZ(9,"span",7),s._uU(10),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=i.$implicit;s.xp6(5),s.hij(" ",e.total," "),s.xp6(5),s.hij(" ",e.fecha," ")}}function b(e,i){if(1&e&&(s.TgZ(0,"ion-select-option",74),s._uU(1),s.qZA()),2&e){const e=i.$implicit;s.Q6J("value",e.id_usuario),s.xp6(1),s.AsE(" ",e.nombre," ",e.apellido_paterno," ")}}function P(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",41),s.TgZ(2,"ion-chip",6),s._uU(3,"Pagos realizados de la cuenta"),s.qZA(),s.qZA(),s.YNc(4,_,11,2,"ion-item",70),s.TgZ(5,"ion-item",71),s.TgZ(6,"ion-label"),s.TgZ(7,"p"),s._uU(8,"Fecha captura para la gesti\xf3n"),s.qZA(),s.TgZ(9,"ion-datetime",72),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().fechaCapturaPostpago=i}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"ion-item",4),s.TgZ(11,"ion-label"),s.TgZ(12,"p"),s._uU(13," Nombre gestor: "),s.qZA(),s.TgZ(14,"p"),s.TgZ(15,"ion-select",49),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().idAspUser=i}),s.YNc(16,b,2,3,"ion-select-option",73),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.listadoPagos),s.xp6(5),s.Q6J("ngModel",e.fechaCapturaPostpago),s.xp6(6),s.Q6J("ngModel",e.idAspUser),s.xp6(1),s.Q6J("ngForOf",e.listadoGestores)}}function x(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"ion-fab-button",77),s.NdJ("click",function(){s.CHM(e);const i=s.oxw().$implicit;return s.oxw().deletePhoto(i.imagen)}),s._UZ(1,"ion-icon",78),s.qZA()}}function U(e,i){if(1&e&&(s.TgZ(0,"ion-slide"),s._UZ(1,"img",75),s.YNc(2,x,2,0,"ion-fab-button",76),s.qZA()),2&e){const e=i.$implicit;s.xp6(1),s.s9C("src",e.imagen,s.LSH),s.xp6(1),s.Q6J("ngIf","assets/img/imgs.png"!=e.imagen)}}function M(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"ion-grid"),s.TgZ(1,"ion-row"),s.TgZ(2,"ion-col",30),s.TgZ(3,"p"),s._uU(4,"Presiona el bot\xf3n para abrir la secci\xf3n de preguntas de la encuesta."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-row"),s.TgZ(6,"ion-col",30),s.TgZ(7,"ion-button",79),s.NdJ("click",function(){return s.CHM(e),s.oxw().encuesta()}),s._uU(8,"Abrir encuesta"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.Q6J("disabled",e.desactivaBotonesCamara)}}function S(e,i){1&e&&(s.TgZ(0,"div",5),s.TgZ(1,"ion-chip",6),s._uU(2," Encuesta terminada "),s.qZA(),s.qZA())}let y=(()=>{class e{constructor(e,i,t,o,n,a,s,r,c,l,g,d){this.storage=e,this.mensaje=i,this.geolocation=t,this.modalController=o,this.platform=n,this.loadingController=a,this.rest=s,this.camera=r,this.webview=c,this.router=l,this.callNumber=g,this.alertCtrl=d,this.propietario="",this.infoAccount=[],this.idEstatusPredio="",this.personaAtiende="",this.idTipoServicio=0,this.numeroNiveles=1,this.colorFachada="",this.colorPuerta="",this.idTipoPredio=0,this.entreCalle1="",this.entreCalle2="",this.observaciones="",this.lectura_medidor="",this.tipoServicioPadron="",this.referencia="",this.idAspUser="",this.idTarea=0,this.tareaAsignada=0,this.nombreTareaAsignada="",this.infoImage=[],this.takePhoto=!1,this.takePhotoFachada=!1,this.takePhotoEvidencia=!1,this.indicadorImagen=0,this.isPhoto=!1,this.image="",this.tipoServicio=0,this.idServicioPlaza=0,this.giro="",this.activaFormulario=!1,this.desactivaBotonesCamara=!0,this.activaOtroMotivo=!1,this.otroMotivo="",this.encuestaRealizada=!1,this.mostrarGiro=!1,this.idTipoGestion="1",this.activaPostpago=!1,this.fechaCapturaPostpago="1989-04-26",this.listadoGestores=[],this.listadoPagos=[],this.idTiempoSuministroAgua="",this.activaOtroSuministroAgua=!1,this.lunes="",this.martes="",this.miercoles="",this.jueves="",this.viernes="",this.sabado="",this.domingo="",this.geoPosicion={},this.sello=!1,this.sliderOpts={zoom:!0,slidesPerView:1.55,spaceBetween:10,centeredSlides:!0},this.imgs=[{imagen:"assets/img/imgs.png"}]}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){yield this.platform.ready(),this.getInfoAccount(),this.getPlaza(),this.getFechaActual(),this.idServicioPlaza=yield this.storage.get("IdServicioActivo"),this.estatusLecturaMedidor()})}estatusLecturaMedidor(){return(0,o.mG)(this,void 0,void 0,function*(){this.plazaAgua=1===this.idServicioPlaza})}getPlaza(){return(0,o.mG)(this,void 0,void 0,function*(){this.nombrePlaza=yield this.storage.get("NombrePlazaActiva"),this.id_plaza=yield this.storage.get("IdPlazaActiva")})}getInfoAccount(){return(0,o.mG)(this,void 0,void 0,function*(){this.account=yield this.storage.get("account"),this.id_proceso=yield this.storage.get("id_proceso"),this.nombreProceso=yield this.storage.get("proceso_gestion"),this.iconoProceso=yield this.storage.get("icono_proceso"),this.idAspUser=yield this.storage.get("IdAspUser"),this.infoAccount=yield this.rest.getInfoAccount(this.account),this.propietario=this.infoAccount[0].propietario,this.idAccountSqlite=this.infoAccount[0].id,this.tareaAsignada=this.infoAccount[0].tarea_asignada,this.nombreTareaAsignada=this.infoAccount[0].nombre_tarea_asignada,this.tipoServicioPadron=this.infoAccount[0].tipo_servicio,1==this.infoAccount[0].gestionada&&(this.mensaje.showAlert("Esta cuenta ya ha sido gestionada"),this.router.navigateByUrl("home/tab2"))})}getFechaActual(){var e=(new Date).toISOString();let i=new Date(e),t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()));this.fechaActual=t.toISOString();let o=this.fechaActual.split("T");this.fechaActual=o[0]}deletePhoto(e){return(0,o.mG)(this,void 0,void 0,function*(){for(let i=0;i<this.imgs.length;i++)this.imgs[i].imagen==e&&this.imgs.splice(i,1);this.infoImage=yield this.rest.getImageLocal(e)})}confirmarFoto(e){return(0,o.mG)(this,void 0,void 0,function*(){const i=yield this.alertCtrl.create({header:"Tomar foto",subHeader:"Selecciona como tomar la foto ",buttons:[{text:"Camara",cssClass:"secondary",handler:()=>{this.takePic(e)}},{text:"Galeria",cssClass:"secondary",handler:()=>{this.takePicGallery(e)}}]});yield i.present()})}takePic(e){let i;if(1==e?(i=7===this.id_proceso?"Cortes fachada predio":"Carta invitaci\xf3n fachada predio",this.takePhotoFachada=!0):2==e?(i=7===this.id_proceso?"Cortes evidencia":"Carta invitaci\xf3n evidencia",this.takePhotoEvidencia=!0):3==e&&(i=7===this.id_proceso?"Cortes toma":"Carta invitaci\xf3n toma"),"1"===this.idTipoGestion){var t=(new Date).toISOString();let e=new Date(t),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()));this.fechaCapturaFoto=i.toISOString()}else if("2"===this.idTipoGestion){let e=new Date(this.fechaCapturaPostpago).toISOString(),i=new Date(e),t=(new Date).toISOString(),o=new Date(t),n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()));this.fechaCapturaFoto=n.toISOString()}this.camera.getPicture({quality:40,correctOrientation:!0,destinationType:this.camera.DestinationType.FILE_URI,sourceType:this.camera.PictureSourceType.CAMERA,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,saveToPhotoAlbum:!0}).then(e=>{this.indicadorImagen=this.indicadorImagen+1;let t=e;this.image=this.webview.convertFileSrc(e),this.isPhoto=!1,this.imgs.push({imagen:this.image}),1==this.indicadorImagen&&this.imgs.splice(0,1),this.saveImage(this.id_plaza,this.nombrePlaza,this.image,this.account,this.fechaCapturaFoto,t,this.idAspUser,this.tareaAsignada,i,this.idServicioPlaza)}).catch(e=>{console.error(e)})}takePicGallery(e){let i;if(1==e?(i=7===this.id_proceso?"Cortes fachada predio":"Carta invitaci\xf3n fachada predio",this.takePhotoFachada=!0):2==e?(i=7===this.id_proceso?"Cortes evidencia":"Carta invitaci\xf3n evidencia",this.takePhotoEvidencia=!0):3==e&&(i=7===this.id_proceso?"Cortes toma":"Carta invitaci\xf3n toma"),"1"===this.idTipoGestion){var t=(new Date).toISOString();let e=new Date(t),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()));this.fechaCapturaFoto=i.toISOString()}else if("2"===this.idTipoGestion){let e=new Date(this.fechaCapturaPostpago).toISOString(),i=new Date(e),t=(new Date).toISOString(),o=new Date(t),n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()));this.fechaCapturaFoto=n.toISOString()}console.log(this.fechaCapturaFoto),this.camera.getPicture({quality:40,correctOrientation:!0,destinationType:this.camera.DestinationType.FILE_URI,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(e=>{this.indicadorImagen=this.indicadorImagen+1;let t=e;this.image=this.webview.convertFileSrc(e),this.isPhoto=!1,this.imgs.push({imagen:this.image}),1==this.indicadorImagen&&this.imgs.splice(0,1),this.saveImage(this.id_plaza,this.nombrePlaza,this.image,this.account,this.fechaCapturaFoto,t,this.idAspUser,this.tareaAsignada,i,this.idServicioPlaza)}).catch(e=>{console.error(e)})}saveImage(e,i,t,o,n,a,s,r,c,l){this.rest.saveImage(e,i,t,o,n,a,s,r,c,l).then(e=>{this.mensaje.showToast("Se almacen\xf3 la imagen correctamente")})}terminar(){return(0,o.mG)(this,void 0,void 0,function*(){if("4"===this.idEstatusPredio&&(this.takePhotoFachada=!0,this.takePhotoEvidencia=!0),""===this.idEstatusPredio||!1===this.takePhotoFachada||!1===this.takePhotoEvidencia)return void this.mensaje.showAlert("Debes seleccionar el estatus del predio, tomar foto de fachada y evidencia");if("1"!==this.idEstatusPredio&&(this.numeroNiveles=0),this.eliminarCaracteres(),"1"===this.idTipoGestion){var e=(new Date).toISOString();let i=new Date(e),t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()));this.fechaCaptura=t.toISOString()}else if("2"===this.idTipoGestion){let e=new Date(this.fechaCapturaPostpago).toISOString(),i=new Date(e),t=(new Date).toISOString(),o=new Date(t),n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()));this.fechaCaptura=n.toISOString()}let i=yield this.loadingController.create({message:"Obteniendo ubicaci\xf3n...",spinner:"dots"});yield i.present(),yield this.getGeolocation(),console.log(this.geoPosicion),this.geoPosicion.coords?(this.latitud=this.geoPosicion.coords.latitude,this.longitud=this.geoPosicion.coords.longitude):(console.log("No se pudo obtener la geolocalizaci\xf3n"),this.latitud=0,this.longitud=0),i.dismiss(),this.loading=yield this.loadingController.create({message:"Guardando la gesti\xf3n...",spinner:"dots"}),yield this.loading.present();let t=2;t=!0===this.sello?1:0;let o={id_plaza:this.id_plaza,nombrePlaza:this.nombrePlaza,account:this.account,persona_atiende:this.personaAtiende,id_tipo_servicio:this.idTipoServicio,numero_niveles:this.numeroNiveles,colorFachada:this.colorFachada,colorPuerta:this.colorPuerta,referencia:this.referencia,id_tipo_predio:this.idTipoPredio,entre_calle1:this.entreCalle1,entre_calle2:this.entreCalle2,observaciones:this.observaciones,lectura_medidor:this.lectura_medidor,giro:this.giro,idAspUser:this.idAspUser,idTarea:this.tareaAsignada,fechaCaptura:this.fechaCaptura,latitud:this.latitud,longitud:this.longitud,idServicioPlaza:this.idServicioPlaza,idEstatusPredio:this.idEstatusPredio,idTipoGestion:this.idTipoGestion,idTiempoSuministroAgua:this.idTiempoSuministroAgua,lunes:this.lunes,martes:this.martes,miercoles:this.miercoles,jueves:this.jueves,viernes:this.viernes,sabado:this.sabado,domingo:this.domingo,colocoSello:t,id:this.idAccountSqlite};yield this.gestionCarta(o),this.loading.dismiss(),this.exit()})}gestionCarta(e){return(0,o.mG)(this,void 0,void 0,function*(){7===this.id_proceso?this.rest.gestionCortes(e):this.rest.gestionCartaInvitacion(e)})}exit(){this.router.navigateByUrl("home/tab2")}getGeolocation(){return(0,o.mG)(this,void 0,void 0,function*(){return new Promise((e,i)=>(0,o.mG)(this,void 0,void 0,function*(){try{setTimeout(()=>{e(this.geoPosicion)},8e3),this.geoPosicion=yield this.geolocation.getCurrentPosition()}catch(t){console.log(t),i(t)}}))})}resultEstatusPredio(e){"1"===e.detail.value?(this.activaFormulario=!0,this.desactivaBotonesCamara=!1):(this.activaFormulario=!1,this.desactivaBotonesCamara=!0)}resultTipoServicio(e){this.mostrarGiro="8"!==e.detail.value}resultMotivoNoPago(e){this.activaOtroMotivo=5==e.detail.value}resultPostpago(e){return(0,o.mG)(this,void 0,void 0,function*(){let i=e.detail.value;"1"===i?(this.activaPostpago=!1,this.idAspUser=yield this.storage.get("IdAspUser")):"2"===i&&(this.activaPostpago=!0,yield this.llenarListadoGestores(),yield this.llenarListadoPagos())})}resultTiempoSuministroAgua(e){return(0,o.mG)(this,void 0,void 0,function*(){this.activaOtroSuministroAgua="4"===e.detail.value})}resultLunes(e){let i=e.target.value;console.log(i),this.lunes="lunesSi"==i?"si":"no"}resultMartes(e){this.martes="martesSi"==e.target.value?"si":"no"}resultMiercoles(e){this.miercoles="miercolesSi"==e.target.value?"si":"no"}resultJueves(e){this.jueves="juevesSi"==e.target.value?"si":"no"}resultViernes(e){this.viernes="viernesSi"==e.target.value?"si":"no"}resultSabado(e){this.sabado="sabadoSi"==e.target.value?"si":"no"}resultDomingo(e){this.domingo="domingoSi"==e.target.value?"si":"no"}llenarListadoGestores(){return(0,o.mG)(this,void 0,void 0,function*(){this.listadoGestores=yield this.rest.obtenerGestoresPlaza(this.id_plaza)})}llenarListadoPagos(){return(0,o.mG)(this,void 0,void 0,function*(){this.listadoPagos=yield this.rest.getPagosHistoryByCuenta(this.id_plaza,this.account),console.log(this.listadoPagos)})}salida(e){return(0,o.mG)(this,void 0,void 0,function*(){const i=yield this.alertCtrl.create({header:"Salir",subHeader:"Confirme para salir de la gesti\xf3n, se perderan los cambios ",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Confirmar",cssClass:"secondary",handler:()=>{this.navegar(e)}}]});yield i.present()})}goPhotos(){return(0,o.mG)(this,void 0,void 0,function*(){let e=this.id_plaza;const i=yield this.modalController.create({component:n.Z,componentProps:{account:this.account,idPlaza:e}});yield i.present()})}navegar(e){1==e?this.router.navigateByUrl("home/tab1"):2==e?this.router.navigateByUrl("home/tab2"):3==e?this.router.navigateByUrl("home/tab3"):4==e?this.router.navigateByUrl("home/tab4"):5==e&&this.callNumber.callNumber("911",!0).then(e=>console.log("Launched dialer!",e)).catch(e=>console.log("Error launching dialer",e))}encuesta(){return(0,o.mG)(this,void 0,void 0,function*(){let e=this.id_plaza;const i=yield this.modalController.create({component:a.K,componentProps:{account:this.account,idPlaza:e,idServicioPlaza:this.idServicioPlaza}});yield i.present(),"Realizado"===(yield i.onDidDismiss()).data.estatus&&(this.encuestaRealizada=!0)})}eliminarCaracteres(){this.observaciones=this.observaciones.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.entreCalle1=this.entreCalle1.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.entreCalle2=this.entreCalle2.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.referencia=this.referencia.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.colorFachada=this.colorFachada.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.colorPuerta=this.colorPuerta.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),this.giro=this.giro.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"")}colocacionSello(){return(0,o.mG)(this,void 0,void 0,function*(){const e=yield this.alertCtrl.create({header:"Colocaci\xf3n de sello",subHeader:"Aceptar para confirmar la colocaci\xf3n del sello",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Confirmar",cssClass:"secondary",handler:()=>{this.sello=!0}}]});yield e.present()})}}return e.\u0275fac=function(i){return new(i||e)(s.Y36(r.Ke),s.Y36(c.K),s.Y36(l.b),s.Y36(g.IN),s.Y36(g.t4),s.Y36(g.HT),s.Y36(d.v),s.Y36(u.V1),s.Y36(Z.k),s.Y36(h.F0),s.Y36(m.X),s.Y36(g.Br))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-gestion-carta"]],decls:142,vars:17,consts:[["color","medium","id","main"],[1,"contenedor-icono-proceso",2,"text-align","center"],[1,"icono-proceso",3,"name"],[1,"contenedor-nombre-proceso"],["color","medium"],[2,"text-align","center"],["color","success"],[2,"font-weight","bold"],["fill","outline","expand","block",1,"button-fotos-historicas",3,"click"],["slot","start","name","image"],["interface","action-sheet","placeholder","Selecciona uno",1,"myCustomSelect",3,"ngModel","ngModelChange","ionChange"],["value","1"],["value","2"],["value","3"],["value","4"],[4,"ngIf"],["rows","5",3,"ngModel","ngModelChange"],["fill","outline","color","success","expand","block",1,"button-fotos-historicas",3,"disabled","click"],["slot","start","name","albums-outline"],["color","success","slot","end","name","checkmark-done-circle-outline",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf"],["color","medium","text-center",""],[1,"fotos-visita"],["text-center",""],["expand","block","color","primary",3,"click"],["name","camera"],["expand","block","color","warning",3,"click"],["expand","block","color","secondary",3,"click"],["style","text-align: center;",4,"ngIf"],["size","12",1,"ion-text-center"],["shape","round","color","success","expand","block",3,"click"],["scrollable",""],[3,"click"],["color","light","name","home"],["color","light",2,"font-size","2px"],["color","light","name","layers"],["color","light","name","map"],["color","light","name","warning"],["src","../../../assets/img/sos.png","alt","",2,"width","30px","height","30px","margin-bottom","-15px"],["color","light",2,"font-size","3px","margin-bottom","-1px"],[2,"text-align","center","margin","15 0px 0 20"],["interface","popover",1,"myCustomSelect",3,"ngModel","ngModelChange"],["color","primary"],["value","5"],["value","6"],["value","7"],["value","8"],["type","number","interface","popover",1,"myCustomSelect",3,"ngModel","ngModelChange"],["interface","action-sheet","placeholder","Selecciona uno",1,"myCustomSelect",3,"ngModel","ngModelChange"],["color","medium",2,"text-align","center"],["mode","ios","color","danger","value","lunes",3,"ionChange"],["value","lunesSi",1,"segment-si"],[1,"marca-si"],["value","lunesNo",1,"segment-no"],[1,"marca-no"],["mode","ios","color","danger","value","martes",3,"ionChange"],["value","martesSi",1,"segment-si"],["value","martesNo",1,"segment-no"],["value","miercolesSi",1,"segment-si"],["value","miercolesNo",1,"segment-no"],["value","juevesSi",1,"segment-si"],["value","juevesNo",1,"segment-no"],["value","viernesSi",1,"segment-si"],["value","viernesNo",1,"segment-no"],["value","sabadoSi",1,"segment-si"],["value","sabadoNo",1,"segment-no"],["value","domingoSi",1,"segment-si"],["value","domingoNo",1,"segment-no"],["color","success","slot","end","name","checkmark-done-circle-outline"],["color","medium",4,"ngFor","ngForOf"],["color","medium",2,"margin-top","20px"],["displayFormat","DD-MM-YYYY","min","2020","min","2020-01-01","placeholder","1999-09-09",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"imagen",3,"src"],["padding","","size","small","color","danger",3,"click",4,"ngIf"],["padding","","size","small","color","danger",3,"click"],["name","trash",1,"icon-trash"],["shape","round","color","primary","expand","block",3,"disabled","click"]],template:function(e,i){1&e&&(s._UZ(0,"hr"),s._UZ(1,"hr"),s._UZ(2,"hr"),s._UZ(3,"hr"),s.TgZ(4,"ion-content",0),s.TgZ(5,"div",1),s._UZ(6,"ion-icon",2),s.qZA(),s.TgZ(7,"div",3),s.TgZ(8,"ion-label"),s.TgZ(9,"p"),s._uU(10),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"ion-card",4),s.TgZ(12,"div",5),s.TgZ(13,"ion-chip",6),s._uU(14,"Informaci\xf3n de la gesti\xf3n a realizar"),s.qZA(),s.qZA(),s.TgZ(15,"ion-card-content"),s.TgZ(16,"ion-item",4),s.TgZ(17,"ion-label"),s.TgZ(18,"p"),s._uU(19," Plaza: "),s.TgZ(20,"span",7),s._uU(21),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(22,"ion-item",4),s.TgZ(23,"ion-label"),s.TgZ(24,"p"),s._uU(25," Acci\xf3n a realizar: "),s.TgZ(26,"span",7),s._uU(27),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(28,"ion-item",4),s.TgZ(29,"ion-label"),s.TgZ(30,"p"),s._uU(31," Cuenta a gestionar: "),s.TgZ(32,"span",7),s._uU(33),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"ion-item",4),s.TgZ(35,"ion-label"),s.TgZ(36,"p"),s._uU(37," Propietario: "),s.TgZ(38,"span",7),s._uU(39),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(40,"ion-button",8),s.NdJ("click",function(){return i.goPhotos()}),s._UZ(41,"ion-icon",9),s._uU(42," Ver fotos hist\xf3ricas "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"ion-card",4),s.TgZ(44,"ion-card-content",4),s.TgZ(45,"ion-item",4),s.TgZ(46,"ion-label"),s.TgZ(47,"p"),s._uU(48," Estatus del predio: "),s.qZA(),s.TgZ(49,"p"),s.TgZ(50,"ion-select",10),s.NdJ("ngModelChange",function(e){return i.idEstatusPredio=e})("ionChange",function(e){return i.resultEstatusPredio(e)}),s.TgZ(51,"ion-select-option",11),s._uU(52,"Predio localizado"),s.qZA(),s.TgZ(53,"ion-select-option",12),s._uU(54,"Predio bald\xedo"),s.qZA(),s.TgZ(55,"ion-select-option",13),s._uU(56,"Predio abandonado"),s.qZA(),s.TgZ(57,"ion-select-option",14),s._uU(58,"Predio no localizado"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(59,v,90,12,"div",15),s.TgZ(60,"ion-card",4),s.TgZ(61,"ion-card-content",4),s.TgZ(62,"ion-item",4),s.TgZ(63,"ion-label"),s.TgZ(64,"p"),s._uU(65," Observaciones: "),s.qZA(),s.qZA(),s.TgZ(66,"ion-textarea",16),s.NdJ("ngModelChange",function(e){return i.observaciones=e}),s.qZA(),s.qZA(),s.TgZ(67,"ion-button",17),s.NdJ("click",function(){return i.colocacionSello()}),s._UZ(68,"ion-icon",18),s._uU(69," Colocaci\xf3n de sello "),s.YNc(70,C,1,0,"ion-icon",19),s.qZA(),s.qZA(),s.qZA(),s.TgZ(71,"ion-card",4),s.TgZ(72,"ion-card-content",4),s.TgZ(73,"ion-item",4),s.TgZ(74,"ion-label"),s.TgZ(75,"p"),s._uU(76," Tipo de gesti\xf3n "),s.qZA(),s.TgZ(77,"p"),s.TgZ(78,"ion-select",10),s.NdJ("ngModelChange",function(e){return i.idTipoGestion=e})("ionChange",function(e){return i.resultPostpago(e)}),s.TgZ(79,"ion-select-option",11),s._uU(80,"Normal"),s.qZA(),s.TgZ(81,"ion-select-option",12),s._uU(82,"Postpago"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(83,P,17,4,"div",15),s.qZA(),s.qZA(),s.TgZ(84,"ion-slides",20),s.YNc(85,U,3,2,"ion-slide",21),s.qZA(),s.TgZ(86,"ion-item",22),s.TgZ(87,"ion-label"),s.TgZ(88,"p",23),s._uU(89," Fotos de la visita "),s.qZA(),s.TgZ(90,"ion-grid"),s.TgZ(91,"ion-row"),s.TgZ(92,"ion-col",24),s.TgZ(93,"ion-button",25),s.NdJ("click",function(){return i.confirmarFoto(1)}),s._UZ(94,"ion-icon",26),s.qZA(),s.TgZ(95,"ion-label",23),s._uU(96,"Fachada predio"),s.qZA(),s.qZA(),s.TgZ(97,"ion-col",24),s.TgZ(98,"ion-button",27),s.NdJ("click",function(){return i.confirmarFoto(2)}),s._UZ(99,"ion-icon",26),s.qZA(),s.TgZ(100,"ion-label",23),s._uU(101,"Evidencia"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(102,"ion-grid"),s.TgZ(103,"ion-row"),s.TgZ(104,"ion-col",24),s.TgZ(105,"ion-button",28),s.NdJ("click",function(){return i.confirmarFoto(3)}),s._UZ(106,"ion-icon",26),s.qZA(),s.TgZ(107,"ion-label",23),s._uU(108,"Toma"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(109,M,9,1,"ion-grid",15),s.YNc(110,S,3,0,"div",29),s.TgZ(111,"ion-grid"),s.TgZ(112,"ion-row"),s.TgZ(113,"ion-col",30),s.TgZ(114,"ion-button",31),s.NdJ("click",function(){return i.terminar()}),s._uU(115,"Terminar"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(116,"ion-segment",32),s.TgZ(117,"ion-segment-button",33),s.NdJ("click",function(){return i.salida(1)}),s._UZ(118,"ion-icon",34),s.TgZ(119,"ion-label",35),s.TgZ(120,"small"),s._uU(121,"Inicio"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(122,"ion-segment-button",33),s.NdJ("click",function(){return i.salida(2)}),s._UZ(123,"ion-icon",36),s.TgZ(124,"ion-label",35),s.TgZ(125,"small"),s._uU(126,"Cuentas"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(127,"ion-segment-button",33),s.NdJ("click",function(){return i.salida(3)}),s._UZ(128,"ion-icon",37),s.TgZ(129,"ion-label",35),s.TgZ(130,"small"),s._uU(131,"Mapa"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(132,"ion-segment-button",33),s.NdJ("click",function(){return i.salida(4)}),s._UZ(133,"ion-icon",38),s.TgZ(134,"ion-label",35),s.TgZ(135,"small"),s._uU(136,"S.P\xfablicos"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(137,"ion-segment-button",33),s.NdJ("click",function(){return i.salida(5)}),s._UZ(138,"img",39),s.TgZ(139,"ion-label",40),s.TgZ(140,"small"),s._uU(141,"S.O.S."),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(6),s.Q6J("name",i.iconoProceso),s.xp6(4),s.Oqu(i.nombreProceso),s.xp6(11),s.hij(" ",i.nombrePlaza," "),s.xp6(6),s.hij(" ",i.nombreTareaAsignada," "),s.xp6(6),s.hij(" ",i.account," "),s.xp6(6),s.hij(" ",i.propietario," "),s.xp6(11),s.Q6J("ngModel",i.idEstatusPredio),s.xp6(9),s.Q6J("ngIf",i.activaFormulario),s.xp6(7),s.Q6J("ngModel",i.observaciones),s.xp6(1),s.Q6J("disabled",i.sello),s.xp6(3),s.Q6J("ngIf",i.sello),s.xp6(8),s.Q6J("ngModel",i.idTipoGestion),s.xp6(5),s.Q6J("ngIf",i.activaPostpago),s.xp6(1),s.Q6J("options",i.sliderOpts),s.xp6(1),s.Q6J("ngForOf",i.imgs),s.xp6(24),s.Q6J("ngIf",!i.encuestaRealizada),s.xp6(1),s.Q6J("ngIf",i.encuestaRealizada))},directives:[g.W2,g.gu,g.Q$,g.PM,g.hM,g.FN,g.Ie,g.YG,g.t9,g.QI,p.JJ,p.On,g.n0,T.O5,g.j9,g.g2,g.Hr,T.sg,g.jY,g.Nd,g.wI,g.cJ,g.GO,g.pK,g.yW,g.as,g.x4,g.A$,g.W4],styles:[".contenedor-icono-proceso[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#3880ff,#2e68db,#2352b9,#143c98,#002878);border:2px solid lime;width:70px;height:70px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin:20px auto;padding:10px}.icono-proceso[_ngcontent-%COMP%]{text-align:center;color:#00c800;font-size:40px}.contenedor-nombre-proceso[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.contenedor-nombre-proceso[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:22px;font-weight:700}.button-fotos-historicas[_ngcontent-%COMP%]{margin:10px 0}ion-card[_ngcontent-%COMP%]{padding:15px 0;border-top:.7px dotted #00c800;border-bottom:.7px dotted #00c800}p[_ngcontent-%COMP%]{font-weight:300;font-size:11px;color:#fff!important}.myCustomSelect[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{max-width:100%!important}.imagen[_ngcontent-%COMP%]{width:35%;height:35%;margin-top:30px;margin-bottom:30px}.fotos-visita[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:16px}.plaza[_ngcontent-%COMP%]{width:80px!important}.procedimiento[_ngcontent-%COMP%]{width:140px!important}ion-input[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{color:#fff!important}.icon-trash[_ngcontent-%COMP%]{color:red!important}ion-datetime[_ngcontent-%COMP%]{color:#fff!important}.segment-si[_ngcontent-%COMP%]{height:5px!important}.segment-no[_ngcontent-%COMP%], .segment-si[_ngcontent-%COMP%]{padding:0;border-radius:10px!important}.segment-no[_ngcontent-%COMP%]{margin-left:10px;height:10px!important}.marca-si[_ngcontent-%COMP%]{color:#9acd32!important}.marca-no[_ngcontent-%COMP%]{color:red!important}.icon-trash[_ngcontent-%COMP%]{color:red}ion-segment[_ngcontent-%COMP%]{--background:#254061;border-top:1px solid #0000001a;height:60px;margin-bottom:-5px}ion-segment-button[_ngcontent-%COMP%]{--indicator-color:#0000!important}"]}),e})()},38643:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var o=t(64762),n=t(87368),a=t(54812),s=t(75919),r=t(9935),c=t(61116);const l=["slider"];function g(e,i){if(1&e&&(n.TgZ(0,"ion-slide"),n.TgZ(1,"div",16),n._UZ(2,"img",17),n.qZA(),n.qZA()),2&e){const e=i.$implicit;n.xp6(2),n.Q6J("src",e.imagen,n.LSH)}}let d=(()=>{class e{constructor(e,i,t,o){this.modalCtrl=e,this.rest=i,this.message=t,this.loadingCtrl=o,this.sliderOpts={zoom:{maxRatio:7}}}ngOnInit(){console.log(this.idPlaza),console.log(this.account),this.getPhotosInfo()}getPhotosInfo(){return(0,o.mG)(this,void 0,void 0,function*(){const e=yield this.loadingCtrl.create({message:"Cargando las fotos...",spinner:"dots"});yield e.present(),this.imgs=yield this.rest.getPhotosHistory(this.idPlaza,this.account),0==this.imgs.length&&(this.message.showAlert("Esta cuenta a\xfan no tiene fotos!!!!"),e.dismiss(),this.modalCtrl.dismiss()),e.dismiss()})}close(){this.modalCtrl.dismiss()}zoom(e){let i=this.slider.nativeElement.swiper.zoom;e?i.in():i.out()}}return e.\u0275fac=function(i){return new(i||e)(n.Y36(a.IN),n.Y36(s.v),n.Y36(r.K),n.Y36(a.HT))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-photos-history"]],viewQuery:function(e,i){if(1&e&&n.Gf(l,5,n.SBq),2&e){let e;n.iGM(e=n.CRH())&&(i.slider=e.first)}},inputs:{idPlaza:"idPlaza",account:"account"},decls:19,vars:2,consts:[["no-border","",1,"header",2,"z-index","1 !important"],["color","medium",2,"z-index","0 !important"],["color","medium"],["slot","icon-only","name","menu"],["src","../../assets/img/sero_sin_letras.png","slot","end","alt","",2,"margin-right","25px"],["color","medium","lines","none","text-center","",1,"close-fake"],["fill","clear","color","danger",3,"click"],["name","close","slot","start"],[2,"color","white"],["fill","clear","color","success",3,"click"],["name","add","slot","start"],["fill","clear","color","warning",3,"click"],["name","remove","slot","start"],["pager","true",3,"options"],["slider",""],[4,"ngFor","ngForOf"],[1,"swiper-zoom-container"],["alt","Imagen no disponible por el momento",3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar",1),n.TgZ(2,"ion-buttons"),n.TgZ(3,"ion-button",2),n._UZ(4,"ion-icon",3),n.qZA(),n.qZA(),n._UZ(5,"img",4),n.qZA(),n.qZA(),n.TgZ(6,"ion-content",2),n.TgZ(7,"ion-item",5),n.TgZ(8,"ion-button",6),n.NdJ("click",function(){return i.close()}),n._UZ(9,"ion-icon",7),n.TgZ(10,"p",8),n._uU(11," Regresar "),n.qZA(),n.qZA(),n.TgZ(12,"ion-button",9),n.NdJ("click",function(){return i.zoom(!0)}),n._UZ(13,"ion-icon",10),n.qZA(),n.TgZ(14,"ion-button",11),n.NdJ("click",function(){return i.zoom(!1)}),n._UZ(15,"ion-icon",12),n.qZA(),n.qZA(),n.TgZ(16,"ion-slides",13,14),n.YNc(18,g,3,1,"ion-slide",15),n.qZA(),n.qZA()),2&e&&(n.xp6(16),n.Q6J("options",i.sliderOpts),n.xp6(2),n.Q6J("ngForOf",i.imgs))},directives:[a.Gu,a.sr,a.Sm,a.YG,a.gu,a.W2,a.Ie,a.Hr,c.sg,a.A$],styles:["ion-toolbar[_ngcontent-%COMP%]{height:70px;display:flex;justify-content:space-evenly;align-items:center;border:none!important}ion-toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:40px}ion-icon[_ngcontent-%COMP%]{font-size:16px}.swiper-zoom-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:600px}"]}),e})()}}]);